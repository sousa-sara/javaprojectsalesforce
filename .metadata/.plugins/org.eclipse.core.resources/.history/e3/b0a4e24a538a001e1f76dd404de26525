package br.com.fiap.main;
import javax.swing.*;
import java.util.ArrayList;

public class MainCadastro {

    public static void main(String[] args) {
    	// Declaração de duas listas para armazenar contatos e usuários de teste grátis
        ArrayList<EntreEmContato> listaEntreEmContato = new ArrayList<>();
        ArrayList<UsuarioTesteGratis> listaUsuarioTesteGratis = new ArrayList<>();
        
        // Loop principal do programa exibindo um menu de opções usando JOptionPane
        while (true) {
        	// Opções do menu apresentadas em um array de strings
            String[] opcoes = {"Cadastro: Entre Em Contato", "Cadastro: Teste Grátis", "Listar: Entre Em Contato", "Listar: Teste Grátis", "Sair"};
            // Caixa de diálogo para escolher uma opção do menu
            int escolha = JOptionPane.showOptionDialog(null, "Escolha uma opção:", "Menu",
                    JOptionPane.DEFAULT_OPTION, JOptionPane.PLAIN_MESSAGE, null, opcoes, opcoes[0]);

         // Realiza ação dependendo da escolha feita pelo usuário
            if (escolha == 0) {
                cadastrarEntreEmContato(listaEntreEmContato);
            } else if (escolha == 1) {
                cadastrarUsuarioTesteGratis(listaUsuarioTesteGratis);
            } else if (escolha == 2) {
                listarEntreEmContatos(listaEntreEmContato);
            } else if (escolha == 3) {
                listarUsuarioTesteGratis(listaUsuarioTesteGratis);
            } else if (escolha == 4) {
                JOptionPane.showMessageDialog(null, "Saindo do programa.");
                System.exit(0);
            } else {
                JOptionPane.showMessageDialog(null, "Opção inválida. Por favor, escolha uma opção válida.\n");
            }
        }
    }

    // Função para cadastrar um usuário de teste grátis
    private static void cadastrarUsuarioTesteGratis(ArrayList<UsuarioTesteGratis> listaUsuarioTesteGratis) {
    	// Gera um novo ID sequencial para o usuário
    	long id = listaUsuarioTesteGratis.size() + 1; 
    	
    	// Solicita informações do usuário através de caixas de diálogo
        String nome = JOptionPane.showInputDialog("Digite o nome do usuário:");
        String sobrenome = JOptionPane.showInputDialog("Digite o sobrenome do usuário:");
        String email = JOptionPane.showInputDialog("Digite o email do usuário:");

        int codigoPais = Integer.parseInt(JOptionPane.showInputDialog("Digite o código do país do telefone:"));
        String ddd = JOptionPane.showInputDialog("Digite o DDD do telefone:");
        String numero = JOptionPane.showInputDialog("Digite o número do telefone:");

        String nomeEmpresa = JOptionPane.showInputDialog("Digite o nome da empresa:");
        int porteEmpresa = Integer.parseInt(JOptionPane.showInputDialog("Digite o porte da empresa:"));
        String pais = JOptionPane.showInputDialog("Digite o país da empresa:");
        String idioma = JOptionPane.showInputDialog("Digite o idioma do usuário:");

        // Cria um novo usuário de teste grátis e adiciona à lista
        UsuarioTesteGratis novoUsuario = new UsuarioTesteGratis(id, nome, sobrenome, email,
                codigoPais, ddd, numero, nomeEmpresa, porteEmpresa, pais, idioma);
        listaUsuarioTesteGratis.add(novoUsuario);

        // Exibe uma mensagem de confirmação
        JOptionPane.showMessageDialog(null, "Usuário cadastrado com sucesso!");
    }

    // Função para cadastrar um contato
    private static void cadastrarEntreEmContato(ArrayList<EntreEmContato> listaEntreEmContato) {
    	// Gera um novo ID sequencial para o usuário
    	long id = listaEntreEmContato.size() + 1; 
    	// Solicita informações do contato através de caixas de diálogo
        String nome = JOptionPane.showInputDialog("Digite o nome do contato:");
        String email = JOptionPane.showInputDialog("Digite o email do contato:");

        int codigoPais = Integer.parseInt(JOptionPane.showInputDialog("Digite o código do país do telefone:"));
        String ddd = JOptionPane.showInputDialog("Digite o DDD do telefone:");
        String numero = JOptionPane.showInputDialog("Digite o número do telefone:");

        // Cria um novo objeto Telefone para o contato
        Telefone telefone = new Telefone(codigoPais, ddd, numero);

        // Cria um novo contato e adiciona à lista
        EntreEmContato novoContato = new EntreEmContato(id, nome, email, telefone);
        listaEntreEmContato.add(novoContato);

        // Exibe uma mensagem de confirmação
        JOptionPane.showMessageDialog(null, "Contato cadastrado com sucesso!");
    }

    // Função para listar contatos
    public static void listarEntreEmContatos(ArrayList<EntreEmContato> listaEntreEmContato) {
    	// Verifica se a lista de contatos está vazia
    	if (listaEntreEmContato.isEmpty()) {
            JOptionPane.showMessageDialog(null, "Nenhum EntreEmContato cadastrado.\n");
        } else {
        	// Se não estiver vazia, monta uma mensagem com informações dos contatos e exibe em uma caixa de diálogo
            String mensagem = "Listando EntreEmContatos:\n";
            for (EntreEmContato contato : listaEntreEmContato) {
                mensagem += "ID: " + contato.getId() + ", Nome: " + contato.getNome() +
                        ", Email: " + contato.getEmail() + ", Telefone: " +
                        contato.getTelefone().getCodigoPais() + " " + // Adiciona espaço entre o código do país e DDD
                        contato.getTelefone().getDdd() +
                        contato.getTelefone().getNumero() + "\n";
            }
            JOptionPane.showMessageDialog(null, mensagem);
        }
    }

    // Função para listar usuários de teste grátis
    public static void listarUsuarioTesteGratis(ArrayList<UsuarioTesteGratis> listaUsuarioTesteGratis) {
    	// Verifica se a lista de usuários de teste grátis está vazia
    	if (listaUsuarioTesteGratis.isEmpty()) {
            JOptionPane.showMessageDialog(null, "Nenhum UsuároTesteGratis cadastrado.\n");
        } else {
        	// Se não estiver vazia, monta uma mensagem com informações dos usuários e exibe em uma caixa de diálogo
            String mensagem = "Listando UsuarioTesteGratis:\n";
            for (UsuarioTesteGratis usuario : listaUsuarioTesteGratis) {
                mensagem += "ID: " + usuario.getId() + ", Nome: " + usuario.getNome() +
                        ", Sobrenome: " + usuario.getSobrenome() + ", Email: " +
                        usuario.getEmail() + ", Código do País: " + usuario.getCodigoPais() +
                        ", DDD: " + usuario.getDdd() + ", Número: " + usuario.getNumero() +
                        ", Nome da Empresa: " + usuario.getNomeEmpresa() +
                        ", Porte da Empresa: " + usuario.getPorteEmpresa() + ", País: " +
                        usuario.getPais() + ", Idioma: " + usuario.getIdioma() + "\n";
            }
            JOptionPane.showMessageDialog(null, mensagem);
        }
    }
    
    

    static class Telefone {
        private int codigoPais;
        private String ddd;
        private String numero;

        public Telefone(int codigoPais, String ddd, String numero) {
            this.codigoPais = codigoPais;
            this.ddd = ddd;
            this.numero = numero;
        }

        public int getCodigoPais() {
            return codigoPais;
        }

        public String getDdd() {
            return ddd;
        }

        public String getNumero() {
            return numero;
        }
    }

    static class EntreEmContato {
        private long id;
        private String nome;
        private String email;
        private Telefone telefone;

        public EntreEmContato(long id, String nome, String email, Telefone telefone) {
            this.id = id;
            this.nome = nome;
            this.email = email;
            this.telefone = telefone;
        }

        public long getId() {
            return id;
        }

        public String getNome() {
            return nome;
        }

        public String getEmail() {
            return email;
        }

        public Telefone getTelefone() {
            return telefone;
        }
    }

    static class UsuarioTesteGratis {
        private long id;
        private String nome;
        private String sobrenome;
        private String email;
        private int codigoPais;
        private String ddd;
        private String numero;
        private String nomeEmpresa;
        private int porteEmpresa;
        private String pais;
        private String idioma;

        public UsuarioTesteGratis(long id, String nome, String sobrenome, String email,
                                  int codigoPais, String ddd, String numero,
                                  String nomeEmpresa, int porteEmpresa, String pais, String idioma) {
            this.id = id;
            this.nome = nome;
            this.sobrenome = sobrenome;
            this.email = email;
            this.codigoPais = codigoPais;
            this.ddd = ddd;
            this.numero = numero;
            this.nomeEmpresa = nomeEmpresa;
            this.porteEmpresa = porteEmpresa;
            this.pais = pais;
            this.idioma = idioma;
        }

        public long getId() {
            return id;
        }

        public String getNome() {
            return nome;
        }

        public String getSobrenome() {
            return sobrenome;
        }

        public String getEmail() {
            return email;
        }

        public int getCodigoPais() {
            return codigoPais;
        }

        public String getDdd() {
            return ddd;
        }

        public String getNumero() {
            return numero;
        }

        public String getNomeEmpresa() {
            return nomeEmpresa;
        }

        public int getPorteEmpresa() {
            return porteEmpresa;
        }

        public String getPais() {
            return pais;
        }

        public String getIdioma() {
            return idioma;
        }
    }
}